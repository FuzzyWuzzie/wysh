// Generated by Haxe 3.4.0
(function () { "use strict";
function $extend(from, fields) {
	function Inherit() {} Inherit.prototype = from; var proto = new Inherit();
	for (var name in fields) proto[name] = fields[name];
	if( fields.toString !== Object.prototype.toString ) proto.toString = fields.toString;
	return proto;
}
var Event = function() {
	this.changed = [];
};
Event.prototype = {
	listen: function(listener) {
		this.changed.push(listener);
	}
	,unlisten: function(listener) {
		HxOverrides.remove(this.changed,listener);
	}
};
var HxOverrides = function() { };
HxOverrides.remove = function(a,obj) {
	var i = a.indexOf(obj);
	if(i == -1) {
		return false;
	}
	a.splice(i,1);
	return true;
};
var Main = function() { };
Main.main = function() {
	stores_Authenticate.initialize();
	ReactDOM.render(React.createElement(views_App,{ }),window.document.body);
};
var stores_Authenticate = function() { };
stores_Authenticate.initialize = function() {
	stores_Authenticate.webAuth = new auth0.WebAuth({ domain : "fuzzywuzzie.auth0.com", clientID : "zLh4kYC43212ipPZS4XM59XHcONzroWn", responseType : "token"});
};
stores_Authenticate.login = function(connection) {
	stores_Authenticate.webAuth.authorize({ redirectUri : "http://localhost:8080/", connection : connection});
};
var views_App = function(props) {
	React.Component.call(this,props);
	this.state = { authenticated : stores_Authenticate.authenticated};
};
views_App.__super__ = React.Component;
views_App.prototype = $extend(React.Component.prototype,{
	update: function() {
		this.setState({ authenticated : stores_Authenticate.authenticated});
	}
	,componentWillMount: function() {
		stores_Authenticate.changed.listen($bind(this,this.update));
		this.updateBackground();
	}
	,componentWillUnmount: function() {
		stores_Authenticate.changed.unlisten($bind(this,this.update));
		this.updateBackground();
	}
	,updateBackground: function() {
		Main.console.log("updating background");
		if(!this.state.authenticated) {
			if(!window.document.body.classList.contains("cyan")) {
				Main.console.log("adding cyan");
				window.document.body.classList.add("cyan");
			}
		} else if(window.document.body.classList.contains("cyan")) {
			Main.console.log("removing cyan");
			window.document.body.classList.remove("cyan");
		}
	}
	,componentDidUpdate: function(prevProps,prevState) {
		this.updateBackground();
	}
	,render: function() {
		var tmp = this.renderContents();
		return React.createElement("div",{ className : "container"},tmp);
	}
	,renderContents: function() {
		var contents = [];
		if(!this.state.authenticated) {
			contents.push(React.createElement(views_Login,{ }));
		} else {
			contents.push(React.createElement("p",{ },"Logged in!"));
		}
		return contents;
	}
});
var views_Login = function(props) {
	React.Component.call(this,props);
};
views_Login.__super__ = React.Component;
views_Login.prototype = $extend(React.Component.prototype,{
	render: function() {
		var tmp = React.createElement("img",{ className : "responsive-img valign login-logo", src : "/logo.png"});
		var tmp1 = React.createElement("div",{ className : "col s8 offset-s2"},tmp);
		var tmp2 = React.createElement("div",{ className : "row"},tmp1);
		var tmp3 = React.createElement("h4",{ className : "center"},"wysh");
		var tmp4 = React.createElement("p",{ className : "center"},"You must log in before proceeding!");
		var tmp5 = React.createElement("div",{ className : "col s12 center"},tmp2,tmp3,tmp4);
		var tmp6 = React.createElement(views_logins_GoogleBtn,{ onClicked : $bind(this,this.loginGoogle)});
		var tmp7 = React.createElement("div",{ className : "col s12 center"},tmp6);
		var tmp8 = React.createElement("div",{ className : "row"},tmp7);
		var tmp9 = React.createElement("div",{ className : "row"},tmp5,tmp8);
		var tmp10 = React.createElement("div",{ className : "card-panel z-depth-4"},tmp9);
		var tmp11 = React.createElement("div",{ className : "col s12 m6 offset-m3 l4 offset-l4"},tmp10);
		return React.createElement("div",{ className : "row"},tmp11);
	}
	,loginGoogle: function() {
		Main.console.log("logging in with Google...");
		stores_Authenticate.login("google-oauth2");
	}
	,loginFacebook: function() {
		stores_Authenticate.login("facebook");
	}
});
var views_logins_GoogleBtn = function(props) {
	if(props.label == null) {
		props.label = "Sign in with Google";
	}
	React.Component.call(this,props);
};
views_logins_GoogleBtn.__super__ = React.Component;
views_logins_GoogleBtn.prototype = $extend(React.Component.prototype,{
	login: function(e) {
		e.preventDefault();
		Main.console.log("clicked sign in with Google");
		if(this.props.onClicked != null) {
			this.props.onClicked();
		}
	}
	,render: function() {
		var tmp = { style : views_logins_GoogleBtn.style, onClick : $bind(this,this.login)};
		var tmp1 = { style : views_logins_GoogleBtn.iconStyle};
		var tmp2 = { style : views_logins_GoogleBtn.svgWrapperStyle};
		var tmp3 = { xmlns : "http://www.w3.org/2000/svg", width : "18px", height : "18px", viewBox : "0 0 48 48", style : views_logins_GoogleBtn.svgStyle};
		var tmp4 = React.createElement("path",{ fill : "#EA4335", d : "M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"});
		var tmp5 = React.createElement("path",{ fill : "#4285F4", d : "M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"});
		var tmp6 = React.createElement("path",{ fill : "#FBBC05", d : "M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"});
		var tmp7 = React.createElement("path",{ fill : "#34A853", d : "M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"});
		var tmp8 = React.createElement("path",{ fill : "none", d : "M0 0h48v48H0z"});
		return React.createElement("div",tmp,React.createElement("div",tmp1,React.createElement("div",tmp2,React.createElement("svg",tmp3,React.createElement("g",{ },tmp4,tmp5,tmp6,tmp7,tmp8)))),React.createElement("span",{ },this.props.label));
	}
});
var $_, $fid = 0;
function $bind(o,m) { if( m == null ) return null; if( m.__id__ == null ) m.__id__ = $fid++; var f; if( o.hx__closures__ == null ) o.hx__closures__ = {}; else f = o.hx__closures__[m.__id__]; if( f == null ) { f = function(){ return f.method.apply(f.scope, arguments); }; f.scope = o; f.method = m; o.hx__closures__[m.__id__] = f; } return f; }
Main.console = window.console;
stores_Authenticate.changed = new Event();
stores_Authenticate.authenticated = false;
views_App.displayName = "App";
views_Login.displayName = "Login";
views_logins_GoogleBtn.style = { backgroundColor : "#4285f4", color : "#fff", height : "50px", width : "240px", border : "none", textAlign : "center", verticalAlign : "center", fontSize : "16px", lineHeight : "48px", display : "block", transition : "background-color .218s,border-color .218s,box-shadow .218s", fontFamily : "Roboto,arial,sans-serif", cursor : "pointer"};
views_logins_GoogleBtn.iconStyle = { width : "48px", height : "48px", textAlign : "center", verticalAlign : "center", display : "block", marginTop : "1px", marginLeft : "1px", 'float' : "left", backgroundColor : "#fff", borderRadius : "1px", whiteSpace : "nowrap"};
views_logins_GoogleBtn.svgWrapperStyle = { padding : "15px"};
views_logins_GoogleBtn.svgStyle = { width : "18px", height : "18px", display : "block"};
views_logins_GoogleBtn.displayName = "GoogleBtn";
Main.main();
})();

//# sourceMappingURL=app.js.map